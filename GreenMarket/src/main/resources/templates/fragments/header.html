<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" 
xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
<meta charset="UTF-8">
<style th:fragment="header1">
	.ftco-navbar-light .container {
	    width: auto;
	
	}
	@media (min-width: 1200px) {
		.container, .container-sm, .container-md, .container-lg, .container-xl {
		    max-width: 1188px;
		}		
	}
	
	#cnt_unread_on_menu { /* 상단 Message 메뉴 옆에 표시하는 채팅 안읽은 메시지 수 */
		background-color: red;
	    color: white;
	    border-radius: 100%;
	    padding: 0px 0px;
	    font-size: 11px;
	    width: 17px;
	    text-align: center;
	    line-height: 17px;
	    position: absolute;
	    right: 6px;
	    top: 17px;
		display: none;
	}
	
	.awake #cnt_unread_on_menu { /* 스크롤 내려서 메뉴 바뀌었을 때 채팅 안읽은 메시지 수 위치 */
		top: 10px;
	}
	
	#nav-item-message { /* 상단 메뉴 Message */
		position: relative;
	}
</style>
<head>

</head>
<body>	
	<header class="page-header" th:fragment="header1">
	<!-- 세션 연결되어있는지 확인하기 위한 데이터 (data_is_authenticated) -->
	<input type="hidden" id="data_is_authenticated" sec:authorize-expr="!isAuthenticated()" value="false">
	<input type="hidden" id="data_is_authenticated" sec:authorize-expr="isAuthenticated()" value="true">
	
	<nav class="navbar navbar-expand-lg navbar-dark ftco_navbar bg-dark ftco-navbar-light" id="ftco-navbar">
		<div class="container">
			<a th:href="@{/index}" class="navbar-brand">GreenMarket<span>Secondhand rental</span></a>
			<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#ftco-nav" aria-controls="ftco-nav" aria-expanded="false" aria-label="Toggle navigation">
				<span class="oi oi-menu"></span> Menu
			</button>

			<div class="collapse navbar-collapse" id="ftco-nav">
				<ul class="navbar-nav ml-auto">
					<li class="nav-item" id="nav-item-home"><a th:href="@{/index}" class="nav-link">Home</a></li>
					<li class="nav-item"><a th:href="@{/layout/about}" class="nav-link">About</a></li>
					<li class="nav-item"><a th:href="@{/layout/destination}" class="nav-link">Destination</a></li>
					<li class="nav-item" id="nav-item-message"><a th:href="@{/trade/chatMain}" class="nav-link">Message</a><div id="cnt_unread_on_menu"></div></li>
					<li class="nav-item" id="nav-item-community"><a th:href="@{/community/boardlist}" class="nav-link">Community</a></li>
					<li class="nav-item" sec:authorize-expr="!isAuthenticated()"><a href="#" data-toggle="modal" data-target="#exampleModal" class="nav-link">로그인</a></li>
					<li class="nav-item" sec:authorize-expr="isAuthenticated()"><a th:href="@{/login/logout}" class="nav-link">로그아웃</a></li>
					<li class="nav-item" sec:authorize-expr="!isAuthenticated()"><a th:href="@{/layout/signup}" class="nav-link">회원가입</a></li>
					<li class="nav-item" sec:authorize-expr="isAuthenticated()"><a th:href="@{/layout/myPage}" class="nav-link">마이페이지</a></li>
				</ul>
				<div class="info">
					<span sec:authorize-expr="isAuthenticated()"><a sec:authentication="name">님 반갑습니다!</a></span>
					<span sec:authorize-expr="isAuthenticated()">님 반갑습니다!</span>
				</div>
			</div>
		</div>
	</nav>
	<!-- END nav -->
	<div class="modal fade" id="exampleModal" role="dialog">
    <div class="modal-dialog">
    
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
		
          <h4 class="modal-title"> 로그인 </h4>
        </div>
        <div class="modal-body">
          <div id="userDiv" class="form-group">
          		<form id="userForm" action="/" method="post">
          			<div class="form-group">
          	  		<label> 아이디 </label> 
          	  		<input type="text"  id="mId" name="username"  class="form-control"  placeholder="아이디를 입력하세요"  required="required" autofocus/>
          	  		</div>
          	  <div class="form-group" style="margin-bottom: 30px;">
             	 <label> 비밀번호  </label> 
              	 <input type="password" id="mPw" name="password" class="form-control" placeholder="비밀번호를 입력하세요" required="required" autofocus/>
             </div>
          	   <div class="checkbox mb-3">
               <label> 
               <input type="checkbox" name="remember-me">
               로그인 유지하기
               </label>
            </div>
             <button type="submit" id="login_btn"class="btn btn-primary btn-block">로그인</button>
          	</form>	
          		</div>
          	<div class="signup">
          	 <form th:action="@{/layout/signup}" method="get">
            	 <input type="submit" value="회원가입" id="loginButton" class="btn btn-default" style="margin-left: 90px;"/>
             </form>
             <form th:action="@{/layout/}" method="get">
            	 <input type="submit" value="비밀번호 찾기" id="searchPwd" class="btn btn-default" style="margin-left: 90px;"/>
             </form>
        </div>
          <div class="modal-footer">
           <button type="button" class="btn btn-secondary" data-dismiss="modal" id="close_modal">닫기</button>
         </div>
        
      </div>
    </div>
    </div>
    </div>
	</header>


</body>
</html>