<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layout/layout1}">
<head>
<meta charset="UTF-8">
<script src="/bootstrap/js/jquery.min.js"></script>


<title>register</title>

</head>
<body >
	<div class="panel panel-default" layout:fragment="content1">
		 <section class="hero-wrap hero-wrap-2 js-fullheight" style="background-image: url('/bootstrap/images/bg_1.jpg');">
		  <div class="overlay"></div>
		  <div class="container">
		    <div class="row no-gutters slider-text js-fullheight align-items-end justify-content-center">
		      <div class="col-md-9 ftco-animate pb-5 text-center">
		       <p class="breadcrumbs"><span class="mr-2"><a href="index.html">Community <i class="fa fa-chevron-right"></i></a></span> <span>About us <i class="fa fa-chevron-right"></i></span></p>
		       <h1 class="mb-0 bread">게시글 상세보기</h1>
		     </div>
		   </div>
		 </div>
		</section>	
		<div>
			<br>
			<button class="btn btn-primary" onclick="history.back()">돌아가기</button>		
			<br><br>
			<div class="form-group">
				<h1 th:text="${board.cTitle}">제목</h1>
			</div>
			<div class="form-group">
				작성자: <span th:text="${board.member.mNickname}">작성자</span><br>
				조회수: <span th:text="${board.cViews}">조회수</span>
			</div>
			<hr/>
			<div class="form-group">
	 			<div th:utext="${board.cContent}">내용</div> 
			</div>
			<hr/>
			<div class="form-group">
	 			작성일: <span th:text="${board.cRegdate}">작성일</span>
			</div>
			<div class="form-group">
	 			수정일: <span th:text="${board.cUpdate}">수정일</span>
			</div>
			<hr/>
				
			<div class="row justify-content-center">
				<button id="btn-update" class="btn btn-warning">수정</button>&nbsp;&nbsp;&nbsp;&nbsp;
				<button id="btn-delete" class="btn btn-primary">삭제</button>			
			</div>
			<br><br>
		</div>


<th:block layout:fragment="script1">
<script th:inline="javascript">
	
	//삭제버튼
    $('#btn-delete').on('click',delete_board);
    function delete_board(){
		
	//	let id = [[${cId}]];
	//	alert("cId: "+id); //잘뜸
		
		$.ajax({
			type: "DELETE",
			url: "/community/boarddetail",
			data: {"cId" : [[${cId}]] }
		}).done(function(resp){
			alert("삭제가 완료되었습니다.");
			location.href="/community/boardlist";
		}).fail(function(error){
			alert("삭제 실패함.");
			alert(data);
			alert(JSON.stringfy(data));
			console.log(error);
		});
		
	}

</script >
	

</th:block>
</body>
</html>